---
id: visual-testing
title: Ki·ªÉm Th·ª≠ H√¨nh ·∫¢nh
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## N√≥ c√≥ th·ªÉ l√†m ƒë∆∞·ª£c g√¨?

WebdriverIO cung c·∫•p kh·∫£ nƒÉng so s√°nh h√¨nh ·∫£nh tr√™n m√†n h√¨nh, ph·∫ßn t·ª≠ ho·∫∑c to√†n b·ªô trang cho

-   üñ•Ô∏è Tr√¨nh duy·ªát m√°y t√≠nh ƒë·ªÉ b√†n (Chrome / Firefox / Safari / Microsoft Edge)
-   üì± Tr√¨nh duy·ªát di ƒë·ªông / m√°y t√≠nh b·∫£ng (Chrome tr√™n thi·∫øt b·ªã gi·∫£ l·∫≠p Android / Safari tr√™n iOS Simulators / Simulators / thi·∫øt b·ªã th·∫≠t) th√¥ng qua Appium
-   üì± ·ª®ng d·ª•ng g·ªëc (thi·∫øt b·ªã gi·∫£ l·∫≠p Android / iOS Simulators / thi·∫øt b·ªã th·∫≠t) th√¥ng qua Appium (üåü **M·ªöI** üåü)
-   üì≥ ·ª®ng d·ª•ng lai (hybrid) th√¥ng qua Appium

th√¥ng qua [`@wdio/visual-service`](https://www.npmjs.com/package/@wdio/visual-service) l√† m·ªôt d·ªãch v·ª• nh·∫π c·ªßa WebdriverIO.

ƒêi·ªÅu n√†y cho ph√©p b·∫°n:

-   l∆∞u ho·∫∑c so s√°nh **m√†n h√¨nh/ph·∫ßn t·ª≠/to√†n b·ªô trang** v·ªõi m·ªôt h√¨nh c∆° s·ªü
-   t·ª± ƒë·ªông **t·∫°o h√¨nh c∆° s·ªü** khi ch∆∞a c√≥ h√¨nh c∆° s·ªü
-   **ch·∫∑n c√°c v√πng t√πy ch·ªânh** v√† th·∫≠m ch√≠ **t·ª± ƒë·ªông lo·∫°i tr·ª´** thanh tr·∫°ng th√°i v√†/ho·∫∑c thanh c√¥ng c·ª• (ch·ªâ d√†nh cho di ƒë·ªông) trong qu√° tr√¨nh so s√°nh
-   tƒÉng k√≠ch th∆∞·ªõc ·∫£nh ch·ª•p m√†n h√¨nh c·ªßa ph·∫ßn t·ª≠
-   **·∫©n vƒÉn b·∫£n** trong qu√° tr√¨nh so s√°nh trang web ƒë·ªÉ:
    -   **c·∫£i thi·ªán ƒë·ªô ·ªïn ƒë·ªãnh** v√† ngƒÉn ch·∫∑n s·ª± kh√¥ng ·ªïn ƒë·ªãnh trong vi·ªác hi·ªÉn th·ªã ph√¥ng ch·ªØ
    -   ch·ªâ t·∫≠p trung v√†o **b·ªë c·ª•c** c·ªßa trang web
-   s·ª≠ d·ª•ng **c√°c ph∆∞∆°ng ph√°p so s√°nh kh√°c nhau** v√† m·ªôt t·∫≠p h·ª£p **c√°c c√¥ng c·ª• ƒë·ªëi chi·∫øu b·ªï sung** gi√∫p ki·ªÉm tra d·ªÖ ƒë·ªçc h∆°n
-   ki·ªÉm tra c√°ch trang web c·ªßa b·∫°n s·∫Ω **h·ªó tr·ª£ di chuy·ªÉn b·∫±ng ph√≠m tab tr√™n b√†n ph√≠m**, xem th√™m [Di chuy·ªÉn b·∫±ng tab qua trang web](#tabbing-through-a-website)
-   v√† nhi·ªÅu t√≠nh nƒÉng kh√°c, xem c√°c t√πy ch·ªçn [d·ªãch v·ª•](./visual-testing/service-options) v√† [ph∆∞∆°ng th·ª©c](./visual-testing/method-options)

D·ªãch v·ª• n√†y l√† m·ªôt module nh·∫π ƒë·ªÉ truy xu·∫•t d·ªØ li·ªáu v√† ·∫£nh ch·ª•p m√†n h√¨nh c·∫ßn thi·∫øt cho t·∫•t c·∫£ c√°c tr√¨nh duy·ªát/thi·∫øt b·ªã. S·ª©c m·∫°nh so s√°nh ƒë·∫øn t·ª´ [ResembleJS](https://github.com/Huddle/Resemble.js). N·∫øu b·∫°n mu·ªën so s√°nh h√¨nh ·∫£nh tr·ª±c tuy·∫øn, b·∫°n c√≥ th·ªÉ ki·ªÉm tra [c√¥ng c·ª• tr·ª±c tuy·∫øn](http://rsmbl.github.io/Resemble.js/).

:::info L∆ØU √ù Cho ·ª®ng D·ª•ng G·ªëc/Lai
C√°c ph∆∞∆°ng th·ª©c `saveScreen`, `saveElement`, `checkScreen`, `checkElement` v√† c√°c c√¥ng c·ª• ƒë·ªëi chi·∫øu `toMatchScreenSnapshot` v√† `toMatchElementSnapshot` c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng cho ·ª®ng d·ª•ng/Ng·ªØ c·∫£nh G·ªëc.

Vui l√≤ng s·ª≠ d·ª•ng thu·ªôc t√≠nh `isHybridApp:true` trong c√†i ƒë·∫∑t d·ªãch v·ª• c·ªßa b·∫°n khi b·∫°n mu·ªën s·ª≠ d·ª•ng n√≥ cho ·ª®ng d·ª•ng Lai.
:::

## C√†i ƒë·∫∑t

C√°ch d·ªÖ nh·∫•t l√† gi·ªØ `@wdio/visual-service` nh∆∞ m·ªôt dev-dependency trong `package.json` c·ªßa b·∫°n, th√¥ng qua:

```sh
npm install --save-dev @wdio/visual-service
```

## S·ª≠ d·ª•ng

`@wdio/visual-service` c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng nh∆∞ m·ªôt d·ªãch v·ª• b√¨nh th∆∞·ªùng. B·∫°n c√≥ th·ªÉ thi·∫øt l·∫≠p n√≥ trong t·ªáp c·∫•u h√¨nh c·ªßa m√¨nh v·ªõi c√°c th√¥ng s·ªë sau:

```js
import path from "node:path";

// wdio.conf.ts
export const config = {
    // ...
    // =====
    // Setup
    // =====
    services: [
        [
            "visual",
            {
                // M·ªôt s·ªë t√πy ch·ªçn, xem t√†i li·ªáu ƒë·ªÉ bi·∫øt th√™m
                baselineFolder: path.join(process.cwd(), "tests", "baseline"),
                formatImageName: "{tag}-{logName}-{width}x{height}",
                screenshotPath: path.join(process.cwd(), "tmp"),
                savePerInstance: true,
                // ... c√°c t√πy ch·ªçn kh√°c
            },
        ],
    ],
    // ...
};
```

Th√™m c√°c t√πy ch·ªçn d·ªãch v·ª• c√≥ th·ªÉ ƒë∆∞·ª£c t√¨m th·∫•y [t·∫°i ƒë√¢y](/docs/visual-testing/service-options).

Sau khi thi·∫øt l·∫≠p trong c·∫•u h√¨nh WebdriverIO c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ ti·∫øn h√†nh th√™m c√°c ki·ªÉm tra h√¨nh ·∫£nh v√†o [c√°c b√†i ki·ªÉm tra c·ªßa b·∫°n](/docs/visual-testing/writing-tests).

### Capabilities
ƒê·ªÉ s·ª≠ d·ª•ng module Ki·ªÉm Th·ª≠ H√¨nh ·∫¢nh, **b·∫°n kh√¥ng c·∫ßn th√™m b·∫•t k·ª≥ t√πy ch·ªçn n√†o v√†o capabilities c·ªßa m√¨nh**. Tuy nhi√™n, trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, b·∫°n c√≥ th·ªÉ mu·ªën th√™m metadata b·ªï sung v√†o c√°c b√†i ki·ªÉm tra h√¨nh ·∫£nh c·ªßa m√¨nh, ch·∫≥ng h·∫°n nh∆∞ `logName`.

`logName` cho ph√©p b·∫°n g√°n t√™n t√πy ch·ªânh cho m·ªói capability, sau ƒë√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ƒë∆∞a v√†o t√™n t·ªáp h√¨nh ·∫£nh. ƒêi·ªÅu n√†y ƒë·∫∑c bi·ªát h·ªØu √≠ch ƒë·ªÉ ph√¢n bi·ªát ·∫£nh ch·ª•p m√†n h√¨nh ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n c√°c tr√¨nh duy·ªát, thi·∫øt b·ªã ho·∫∑c c·∫•u h√¨nh kh√°c nhau.

ƒê·ªÉ k√≠ch ho·∫°t t√≠nh nƒÉng n√†y, b·∫°n c√≥ th·ªÉ ƒë·ªãnh nghƒ©a `logName` trong ph·∫ßn `capabilities` v√† ƒë·∫£m b·∫£o t√πy ch·ªçn `formatImageName` trong d·ªãch v·ª• Ki·ªÉm Th·ª≠ H√¨nh ·∫¢nh tham chi·∫øu ƒë·∫øn n√≥. ƒê√¢y l√† c√°ch b·∫°n c√≥ th·ªÉ thi·∫øt l·∫≠p:

```js
import path from "node:path";

// wdio.conf.ts
export const config = {
    // ...
    // =====
    // Setup
    // =====
    capabilities: [
        {
            browserName: 'chrome',
            'wdio-ics:options': {
                logName: 'chrome-mac-15', // T√™n nh·∫≠t k√Ω t√πy ch·ªânh cho Chrome
            },
        }
        {
            browserName: 'firefox',
            'wdio-ics:options': {
                logName: 'firefox-mac-15', // T√™n nh·∫≠t k√Ω t√πy ch·ªânh cho Firefox
            },
        }
    ],
    services: [
        [
            "visual",
            {
                // M·ªôt s·ªë t√πy ch·ªçn, xem t√†i li·ªáu ƒë·ªÉ bi·∫øt th√™m
                baselineFolder: path.join(process.cwd(), "tests", "baseline"),
                screenshotPath: path.join(process.cwd(), "tmp"),
                // ƒê·ªãnh d·∫°ng d∆∞·ªõi ƒë√¢y s·∫Ω s·ª≠ d·ª•ng `logName` t·ª´ capabilities
                formatImageName: "{tag}-{logName}-{width}x{height}",
                // ... c√°c t√πy ch·ªçn kh√°c
            },
        ],
    ],
    // ...
};
```

#### C√°ch ho·∫°t ƒë·ªông
1. Thi·∫øt l·∫≠p `logName`:

    - Trong ph·∫ßn `capabilities`, g√°n m·ªôt `logName` duy nh·∫•t cho m·ªói tr√¨nh duy·ªát ho·∫∑c thi·∫øt b·ªã. V√≠ d·ª•, `chrome-mac-15` x√°c ƒë·ªãnh c√°c b√†i ki·ªÉm tra ch·∫°y tr√™n Chrome tr√™n macOS phi√™n b·∫£n 15.

2. ƒê·∫∑t t√™n h√¨nh ·∫£nh t√πy ch·ªânh:

    - T√πy ch·ªçn `formatImageName` t√≠ch h·ª£p `logName` v√†o t√™n t·ªáp ·∫£nh ch·ª•p m√†n h√¨nh. V√≠ d·ª•: n·∫øu `tag` l√† homepage v√† ƒë·ªô ph√¢n gi·∫£i l√† `1920x1080`, t√™n t·ªáp k·∫øt qu·∫£ c√≥ th·ªÉ tr√¥ng nh∆∞ th·∫ø n√†y:

        `homepage-chrome-mac-15-1920x1080.png`

3. L·ª£i √≠ch c·ªßa vi·ªác ƒë·∫∑t t√™n t√πy ch·ªânh:

    - Vi·ªác ph√¢n bi·ªát gi·ªØa c√°c ·∫£nh ch·ª•p m√†n h√¨nh t·ª´ c√°c tr√¨nh duy·ªát ho·∫∑c thi·∫øt b·ªã kh√°c nhau tr·ªü n√™n d·ªÖ d√†ng h∆°n nhi·ªÅu, ƒë·∫∑c bi·ªát khi qu·∫£n l√Ω c√°c h√¨nh c∆° s·ªü v√† g·ª° l·ªói s·ª± kh√°c bi·ªát.

4. L∆∞u √Ω v·ªÅ m·∫∑c ƒë·ªãnh:

    - N·∫øu `logName` kh√¥ng ƒë∆∞·ª£c ƒë·∫∑t trong capabilities, t√πy ch·ªçn `formatImageName` s·∫Ω hi·ªÉn th·ªã n√≥ d∆∞·ªõi d·∫°ng chu·ªói tr·ªëng trong t√™n t·ªáp (`homepage--15-1920x1080.png`)

### WebdriverIO MultiRemote

Ch√∫ng t√¥i c≈©ng h·ªó tr·ª£ [MultiRemote](https://webdriver.io/docs/multiremote/). ƒê·ªÉ l√†m cho t√≠nh nƒÉng n√†y ho·∫°t ƒë·ªông ƒë√∫ng, h√£y ƒë·∫£m b·∫£o r·∫±ng b·∫°n th√™m `wdio-ics:options` v√†o c√°c capabilities c·ªßa b·∫°n nh∆∞ b·∫°n c√≥ th·ªÉ th·∫•y b√™n d∆∞·ªõi. ƒêi·ªÅu n√†y s·∫Ω ƒë·∫£m b·∫£o r·∫±ng m·ªói ·∫£nh ch·ª•p m√†n h√¨nh s·∫Ω c√≥ t√™n duy nh·∫•t.

[Vi·∫øt c√°c b√†i ki·ªÉm tra c·ªßa b·∫°n](/docs/visual-testing/writing-tests) s·∫Ω kh√¥ng kh√°c bi·ªát so v·ªõi vi·ªác s·ª≠ d·ª•ng [testrunner](https://webdriver.io/docs/testrunner)

```js
// wdio.conf.js
export const config = {
    capabilities: {
        chromeBrowserOne: {
            capabilities: {
                browserName: "chrome",
                "goog:chromeOptions": {
                    args: ["disable-infobars"],
                },
                // ƒêI·ªÄU N√ÄY!!!
                "wdio-ics:options": {
                    logName: "chrome-latest-one",
                },
            },
        },
        chromeBrowserTwo: {
            capabilities: {
                browserName: "chrome",
                "goog:chromeOptions": {
                    args: ["disable-infobars"],
                },
                // ƒêI·ªÄU N√ÄY!!!
                "wdio-ics:options": {
                    logName: "chrome-latest-two",
                },
            },
        },
    },
};
```

### Ch·∫°y b·∫±ng l·∫≠p tr√¨nh

ƒê√¢y l√† m·ªôt v√≠ d·ª• t·ªëi thi·ªÉu v·ªÅ c√°ch s·ª≠ d·ª•ng `@wdio/visual-service` th√¥ng qua t√πy ch·ªçn `remote`:

```js
import { remote } from "webdriverio";
import VisualService from "@wdio/visual-service";

let visualService = new VisualService({
    autoSaveBaseline: true,
});

const browser = await remote({
    logLevel: "silent",
    capabilities: {
        browserName: "chrome",
    },
});

// "B·∫Øt ƒë·∫ßu" d·ªãch v·ª• ƒë·ªÉ th√™m c√°c l·ªánh t√πy ch·ªânh v√†o `browser`
visualService.remoteSetup(browser);

await browser.url("https://webdriver.io/");

// ho·∫∑c s·ª≠ d·ª•ng ƒëi·ªÅu n√†y CH·ªà ƒë·ªÉ l∆∞u ·∫£nh ch·ª•p m√†n h√¨nh
await browser.saveFullPageScreen("examplePaged", {});

// ho·∫∑c s·ª≠ d·ª•ng ƒëi·ªÅu n√†y ƒë·ªÉ x√°c th·ª±c. C·∫£ hai ph∆∞∆°ng th·ª©c kh√¥ng c·∫ßn ph·∫£i k·∫øt h·ª£p, xem FAQ
await browser.checkFullPageScreen("examplePaged", {});

await browser.deleteSession();
```

### Di chuy·ªÉn b·∫±ng tab qua trang web

B·∫°n c√≥ th·ªÉ ki·ªÉm tra xem m·ªôt trang web c√≥ th·ªÉ truy c·∫≠p b·∫±ng ph√≠m <kbd>TAB</kbd> tr√™n b√†n ph√≠m hay kh√¥ng. Vi·ªác ki·ªÉm tra ph·∫ßn n√†y c·ªßa kh·∫£ nƒÉng truy c·∫≠p lu√¥n l√† m·ªôt c√¥ng vi·ªác (th·ªß c√¥ng) t·ªën th·ªùi gian v√† kh√° kh√≥ th·ª±c hi·ªán th√¥ng qua t·ª± ƒë·ªông h√≥a.
V·ªõi c√°c ph∆∞∆°ng th·ª©c `saveTabbablePage` v√† `checkTabbablePage`, b·∫°n c√≥ th·ªÉ v·∫Ω c√°c ƒë∆∞·ªùng v√† ch·∫•m tr√™n trang web c·ªßa m√¨nh ƒë·ªÉ x√°c minh th·ª© t·ª± di chuy·ªÉn b·∫±ng tab.

L∆∞u √Ω r·∫±ng ƒëi·ªÅu n√†y ch·ªâ h·ªØu √≠ch cho c√°c tr√¨nh duy·ªát m√°y t√≠nh ƒë·ªÉ b√†n v√† **KH√îNG\*\*** d√†nh cho thi·∫øt b·ªã di ƒë·ªông. T·∫•t c·∫£ c√°c tr√¨nh duy·ªát m√°y t√≠nh ƒë·ªÉ b√†n ƒë·ªÅu h·ªó tr·ª£ t√≠nh nƒÉng n√†y.

:::note

C√¥ng vi·ªác n√†y ƒë∆∞·ª£c l·∫•y c·∫£m h·ª©ng t·ª´ b√†i vi·∫øt blog c·ªßa [Viv Richards](https://github.com/vivrichards600) v·ªÅ ["AUTOMATING PAGE TABABILITY (IS THAT A WORD?) WITH VISUAL TESTING"](https://vivrichards.co.uk/accessibility/automating-page-tab-flows-using-visual-testing-and-javascript).

C√°ch l·ª±a ch·ªçn c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ di chuy·ªÉn b·∫±ng tab d·ª±a tr√™n module [tabbable](https://github.com/davidtheclark/tabbable). N·∫øu c√≥ b·∫•t k·ª≥ v·∫•n ƒë·ªÅ n√†o li√™n quan ƒë·∫øn vi·ªác di chuy·ªÉn tab, vui l√≤ng ki·ªÉm tra [README.md](https://github.com/davidtheclark/tabbable/blob/master/README.md) v√† ƒë·∫∑c bi·ªát l√† ph·∫ßn [More Details](https://github.com/davidtheclark/tabbable/blob/master/README.md#more-details).

:::

#### N√≥ ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o

C·∫£ hai ph∆∞∆°ng th·ª©c s·∫Ω t·∫°o m·ªôt ph·∫ßn t·ª≠ `canvas` tr√™n trang web c·ªßa b·∫°n v√† v·∫Ω c√°c ƒë∆∞·ªùng v√† ch·∫•m ƒë·ªÉ cho b·∫°n th·∫•y n∆°i TAB c·ªßa b·∫°n s·∫Ω ƒëi n·∫øu ng∆∞·ªùi d√πng cu·ªëi s·ª≠ d·ª•ng n√≥. Sau ƒë√≥, n√≥ s·∫Ω t·∫°o ·∫£nh ch·ª•p to√†n trang ƒë·ªÉ cho b·∫°n t·ªïng quan t·ªët v·ªÅ lu·ªìng.

:::important

**Ch·ªâ s·ª≠ d·ª•ng `saveTabbablePage` khi b·∫°n c·∫ßn t·∫°o ·∫£nh ch·ª•p m√†n h√¨nh v√† KH√îNG mu·ªën so s√°nh n√≥ **v·ªõi m·ªôt h√¨nh ·∫£nh c∆° s·ªü**.\*\*\*\*

:::

Khi b·∫°n mu·ªën so s√°nh lu·ªìng tab v·ªõi ƒë∆∞·ªùng c∆° s·ªü, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `checkTabbablePage`. B·∫°n **KH√îNG** c·∫ßn s·ª≠ d·ª•ng c·∫£ hai ph∆∞∆°ng th·ª©c c√πng nhau. N·∫øu ƒë√£ c√≥ m·ªôt h√¨nh ·∫£nh c∆° s·ªü ƒë∆∞·ª£c t·∫°o, c√≥ th·ªÉ ƒë∆∞·ª£c th·ª±c hi·ªán t·ª± ƒë·ªông b·∫±ng c√°ch cung c·∫•p `autoSaveBaseline: true` khi b·∫°n kh·ªüi t·∫°o d·ªãch v·ª•,
`checkTabbablePage` s·∫Ω t·∫°o h√¨nh ·∫£nh _th·ª±c t·∫ø_ tr∆∞·ªõc ti√™n v√† sau ƒë√≥ so s√°nh n√≥ v·ªõi h√¨nh ·∫£nh c∆° s·ªü.

##### T√πy ch·ªçn

C·∫£ hai ph∆∞∆°ng th·ª©c ƒë·ªÅu s·ª≠ d·ª•ng c√°c t√πy ch·ªçn gi·ªëng nhau nh∆∞ [`saveFullPageScreen`](https://github.com/wswebcreation/webdriver-image-comparison/blob/master/docs/OPTIONS.md#savefullpagescreen-or-savetabbablepage) ho·∫∑c
[`compareFullPageScreen`](https://github.com/wswebcreation/webdriver-image-comparison/blob/master/docs/OPTIONS.md#comparefullpagescreen-or-comparetabbablepage).

#### V√≠ d·ª•

ƒê√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa tab tr√™n [trang web th·ª≠ nghi·ªám](https://guinea-pig.webdriver.io/image-compare.html) c·ªßa ch√∫ng t√¥i:

![WDIO tabbing example](/img/visual/tabbable-chrome-latest-1366x768.png)

### T·ª± ƒë·ªông c·∫≠p nh·∫≠t ·∫¢nh ch·ª•p H√¨nh ·∫£nh th·∫•t b·∫°i

C·∫≠p nh·∫≠t h√¨nh ·∫£nh c∆° s·ªü th√¥ng qua d√≤ng l·ªánh b·∫±ng c√°ch th√™m ƒë·ªëi s·ªë `--update-visual-baseline`. ƒêi·ªÅu n√†y s·∫Ω

-   t·ª± ƒë·ªông sao ch√©p ·∫£nh ch·ª•p m√†n h√¨nh th·ª±c t·∫ø v√† ƒë·∫∑t n√≥ v√†o th∆∞ m·ª•c c∆° s·ªü
-   n·∫øu c√≥ s·ª± kh√°c bi·ªát, n√≥ s·∫Ω cho ph√©p b√†i ki·ªÉm tra ƒë·∫°t v√¨ ƒë∆∞·ªùng c∆° s·ªü ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t

**C√°ch s·ª≠ d·ª•ng:**

```sh
npm run test.local.desktop  --update-visual-baseline
```

Khi ch·∫°y nh·∫≠t k√Ω ·ªü ch·∫ø ƒë·ªô info/debug, b·∫°n s·∫Ω th·∫•y c√°c nh·∫≠t k√Ω sau ƒë∆∞·ª£c th√™m v√†o

```logs
[0-0] ..............
[0-0] #####################################################################################
[0-0]  INFO:
[0-0]  Updated the actual image to
[0-0]  /Users/wswebcreation/Git/wdio/visual-testing/localBaseline/chromel/demo-chrome-1366x768.png
[0-0] #####################################################################################
[0-0] ..........
```

## H·ªó tr·ª£ Typescript

Module n√†y bao g·ªìm h·ªó tr·ª£ TypeScript, cho ph√©p b·∫°n h∆∞·ªüng l·ª£i t·ª´ t√≠nh nƒÉng t·ª± ƒë·ªông ho√†n th√†nh, an to√†n ki·ªÉu v√† c·∫£i thi·ªán tr·∫£i nghi·ªám nh√† ph√°t tri·ªÉn khi s·ª≠ d·ª•ng d·ªãch v·ª• Ki·ªÉm Th·ª≠ H√¨nh ·∫¢nh.

### B∆∞·ªõc 1: Th√™m ƒë·ªãnh nghƒ©a ki·ªÉu
ƒê·ªÉ ƒë·∫£m b·∫£o TypeScript nh·∫≠n ra c√°c ki·ªÉu module, h√£y th√™m m·ª•c sau v√†o tr∆∞·ªùng types trong tsconfig.json c·ªßa b·∫°n:

```json
{
    "compilerOptions": {
        "types": ["@wdio/visual-service"]
    }
}
```

### B∆∞·ªõc 2: B·∫≠t t√≠nh nƒÉng an to√†n ki·ªÉu cho c√°c t√πy ch·ªçn d·ªãch v·ª•
ƒê·ªÉ th·ª±c thi ki·ªÉm tra ki·ªÉu tr√™n c√°c t√πy ch·ªçn d·ªãch v·ª•, h√£y c·∫≠p nh·∫≠t c·∫•u h√¨nh WebdriverIO c·ªßa b·∫°n:

```ts
// wdio.conf.ts
import { join } from 'node:path';
// Nh·∫≠p ƒë·ªãnh nghƒ©a ki·ªÉu
import type { VisualServiceOptions } from '@wdio/visual-service';

export const config = {
    // ...
    // =====
    // Setup
    // =====
    services: [
        [
            "visual",
            {
                // C√°c t√πy ch·ªçn d·ªãch v·ª•
                baselineFolder: join(process.cwd(), './__snapshots__/'),
                formatImageName: '{tag}-{logName}-{width}x{height}',
                screenshotPath: join(process.cwd(), '.tmp/'),
            } satisfies VisualServiceOptions, // ƒê·∫£m b·∫£o an to√†n ki·ªÉu
        ],
    ],
    // ...
};
```

## Y√™u c·∫ßu h·ªá th·ªëng

### Phi√™n b·∫£n 5 tr·ªü l√™n

ƒê·ªëi v·ªõi phi√™n b·∫£n 5 tr·ªü l√™n, module n√†y l√† m·ªôt module ho√†n to√†n d·ª±a tr√™n JavaScript m√† kh√¥ng c√≥ ph·ª• thu·ªôc h·ªá th·ªëng b·ªï sung ngo√†i [y√™u c·∫ßu chung c·ªßa d·ª± √°n](/docs/gettingstarted#system-requirements). N√≥ s·ª≠ d·ª•ng [Jimp](https://github.com/jimp-dev/jimp), m·ªôt th∆∞ vi·ªán x·ª≠ l√Ω h√¨nh ·∫£nh cho Node ƒë∆∞·ª£c vi·∫øt ho√†n to√†n b·∫±ng JavaScript, kh√¥ng c√≥ ph·ª• thu·ªôc g·ªëc.

### Phi√™n b·∫£n 4 v√† tr∆∞·ªõc ƒë√≥

ƒê·ªëi v·ªõi phi√™n b·∫£n 4 v√† tr∆∞·ªõc ƒë√≥, module n√†y ph·ª• thu·ªôc v√†o [Canvas](https://github.com/Automattic/node-canvas), m·ªôt tri·ªÉn khai canvas cho Node.js. Canvas ph·ª• thu·ªôc v√†o [Cairo](https://cairographics.org/).

#### Chi ti·∫øt c√†i ƒë·∫∑t

Theo m·∫∑c ƒë·ªãnh, c√°c t·ªáp nh·ªã ph√¢n cho macOS, Linux v√† Windows s·∫Ω ƒë∆∞·ª£c t·∫£i xu·ªëng trong qu√° tr√¨nh `npm install` c·ªßa d·ª± √°n. N·∫øu b·∫°n kh√¥ng c√≥ h·ªá ƒëi·ªÅu h√†nh ho·∫∑c ki·∫øn tr√∫c b·ªô x·ª≠ l√Ω ƒë∆∞·ª£c h·ªó tr·ª£, module s·∫Ω ƒë∆∞·ª£c bi√™n d·ªãch tr√™n h·ªá th·ªëng c·ªßa b·∫°n. ƒêi·ªÅu n√†y y√™u c·∫ßu m·ªôt s·ªë ph·ª• thu·ªôc, bao g·ªìm Cairo v√† Pango.

ƒê·ªÉ bi·∫øt th√¥ng tin c√†i ƒë·∫∑t chi ti·∫øt, xem [wiki node-canvas](https://github.com/Automattic/node-canvas/wiki/_pages). D∆∞·ªõi ƒë√¢y l√† h∆∞·ªõng d·∫´n c√†i ƒë·∫∑t m·ªôt d√≤ng cho c√°c h·ªá ƒëi·ªÅu h√†nh th√¥ng d·ª•ng. L∆∞u √Ω r·∫±ng `libgif/giflib`, `librsvg` v√† `libjpeg` l√† t√πy ch·ªçn v√† ch·ªâ c·∫ßn thi·∫øt cho h·ªó tr·ª£ GIF, SVG v√† JPEG. Cairo v1.10.0 tr·ªü l√™n l√† b·∫Øt bu·ªôc.

<Tabs
defaultValue="osx"
values={[
{label: 'OS', value: 'osx'},
{label: 'Ubuntu', value: 'ubuntu'},
{label: 'Fedora', value: 'fedora'},
{label: 'Solaris', value: 'solaris'},
{label: 'OpenBSD', value: 'openbsd'},
{label: 'Window', value: 'windows'},
{label: 'Others', value: 'others'},
]}

> <TabItem value="osx">

     S·ª≠ d·ª•ng [Homebrew](https://brew.sh/):

     ```sh
     brew install pkg-config cairo pango libpng jpeg giflib librsvg pixman
     ```

    **Mac OS X v10.11+:** N·∫øu b·∫°n m·ªõi c·∫≠p nh·∫≠t l√™n Mac OS X v10.11+ g·∫ßn ƒë√¢y v√† ƒëang g·∫∑p s·ª± c·ªë khi bi√™n d·ªãch, h√£y ch·∫°y l·ªánh sau: `xcode-select --install`. ƒê·ªçc th√™m v·ªÅ v·∫•n ƒë·ªÅ [tr√™n Stack Overflow](http://stackoverflow.com/a/32929012/148072).
    N·∫øu b·∫°n ƒë√£ c√†i ƒë·∫∑t Xcode 10.0 tr·ªü l√™n, ƒë·ªÉ x√¢y d·ª±ng t·ª´ ngu·ªìn, b·∫°n c·∫ßn NPM 6.4.1 tr·ªü l√™n.

</TabItem>
<TabItem value="ubuntu">

    ```sh
    sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev
    ```

</TabItem>
<TabItem value="fedora">

    ```sh
    sudo yum install gcc-c++ cairo-devel pango-devel libjpeg-turbo-devel giflib-devel
    ```

</TabItem>
<TabItem value="solaris">

    ```sh
    pkgin install cairo pango pkg-config xproto renderproto kbproto xextproto
    ```

</TabItem>
<TabItem value="openbsd">

    ```sh
    doas pkg_add cairo pango png jpeg giflib
    ```

</TabItem>
<TabItem value="windows">

    Xem [wiki](https://github.com/Automattic/node-canvas/wiki/Installation:-Windows)

</TabItem>
<TabItem value="others">

    Xem [wiki](https://github.com/Automattic/node-canvas/wiki)

</TabItem>
</Tabs>