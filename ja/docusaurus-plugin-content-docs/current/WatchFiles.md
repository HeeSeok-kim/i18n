---
id: watcher
title: テストファイルの監視
---

WDIOテストランナーでは、作業中のファイルを監視することができます。アプリやテストファイルに変更を加えると、自動的に再実行されます。`wdio`コマンドを呼び出す際に`--watch`フラグを追加すると、テストランナーはすべてのテストを実行した後、ファイルの変更を待機します。例：

```sh
wdio wdio.conf.js --watch
```

デフォルトでは、`specs`ファイルの変更のみを監視します。ただし、`wdio.conf.js`に`filesToWatch`プロパティを設定し、ファイルパスのリスト（グロブ対応）を含めることで、これらのファイルの変更も監視し、変更があればスイート全体を再実行します。これは、アプリケーションコードを変更した場合に自動的にすべてのテストを再実行したい場合に便利です。例：

```js
// wdio.conf.js
export const config = {
    // ...
    filesToWatch: [
        // アプリ内のすべてのJSファイルを監視
        './src/app/**/*.js'
    ],
    // ...
}
```

:::info
できるだけテストを並行して実行するようにしてください。E2Eテストは本質的に遅いです。テストの再実行は、個々のテスト実行時間を短くできる場合にのみ有用です。時間を節約するために、テストランナーはファイルの変更を待っている間、WebDriverセッションを維持します。WebDriverバックエンドが、一定時間コマンドが実行されなかった場合に自動的にセッションを閉じないように設定できることを確認してください。
:::