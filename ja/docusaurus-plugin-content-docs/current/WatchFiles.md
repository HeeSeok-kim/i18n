---
id: watcher
title: テストファイルの監視
---

WDIOテストランナーを使用すると、作業中のファイルを監視できます。アプリケーションまたはテストファイルに変更を加えると、テストが自動的に再実行されます。`wdio`コマンドを呼び出す際に`--watch`フラグを追加すると、テストランナーはすべてのテストを実行した後、ファイルの変更を待機します。例：

```sh
wdio wdio.conf.js --watch
```

デフォルトでは、`specs`ファイルの変更のみを監視します。ただし、`wdio.conf.js`にファイルパスのリスト（グロブパターンをサポート）を含む`filesToWatch`プロパティを設定することで、これらのファイルの変更も監視して、変更があった場合に全テストスイートを再実行します。これは、アプリケーションコードを変更した場合に自動的にすべてのテストを再実行したい場合に便利です。例：

```js
// wdio.conf.js
export const config = {
    // ...
    filesToWatch: [
        // watch for all JS files in my app
        './src/app/**/*.js'
    ],
    // ...
}
```

:::info
できるだけ並行してテストを実行するようにしてください。E2Eテストは本質的に遅いものです。テストの再実行は、個々のテスト実行時間を短く保つことができる場合にのみ有用です。時間を節約するために、テストランナーはファイル変更を待機している間、WebDriverセッションを維持します。WebDriverバックエンドが、一定時間コマンドが実行されなくてもセッションが自動的に閉じられないように設定できることを確認してください。
:::