---
id: sharding
title: ро╖ро╛ро░рпНроЯро┐роЩрпН
---

роЗропро▓рпНрокро╛роХ, WebdriverIO роЪрпЛродройрпИроХро│рпИ роЗрогрпИропро╛роХ роЗропроХрпНроХрпБроХро┐ро▒родрпБ рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН роЙро│рпНро│ CPU роХрпЛро░рпНроХро│ро┐ройрпН роЪро┐ро▒роирпНрод рокропройрпНрокро╛роЯрпНроЯро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐ роЪрпЖропрпНроХро┐ро▒родрпБ. роорпЗро▓рпБроорпН роЕродро┐роХрооро╛рой роЗрогрпИропро╛роХрпНроХродрпНродрпИ роЕроЯрпИроп, рокро▓ роЗропроирпНродро┐ро░роЩрпНроХро│ро┐ро▓рпН роТро░рпЗ роирпЗро░родрпНродро┐ро▓рпН роЪрпЛродройрпИроХро│рпИ роЗропроХрпНроХрпБро╡родройрпН роорпВро▓роорпН WebdriverIO роЪрпЛродройрпИ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роорпЗро▓рпБроорпН роЕро│ро╡ро┐роЯро▓ро╛роорпН. роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБ роорпБро▒рпИропрпИ роиро╛роЩрпНроХро│рпН "ро╖ро╛ро░рпНроЯро┐роЩрпН" роОройрпНро▒рпБ роЕро┤рпИроХрпНроХро┐ро▒рпЛроорпН.

## рокро▓ роЗропроирпНродро┐ро░роЩрпНроХро│рпБроХрпНроХрпБ роЗроЯрпИропро┐ро▓рпН роЪрпЛродройрпИроХро│рпИ ро╖ро╛ро░рпНроЯро┐роЩрпН роЪрпЖропрпНродро▓рпН

роЪрпЛродройрпИ родрпКроХрпБрокрпНрокрпИ ро╖ро╛ро░рпНроЯрпН роЪрпЖропрпНроп, роХроЯрпНроЯро│рпИ ро╡ро░ро┐ропро┐ро▓рпН `--shard=x/y` роР рокро╛ро╕рпН роЪрпЖропрпНропро╡рпБроорпН. роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, родрпКроХрпБрокрпНрокрпИ роиро╛ройрпНроХрпБ ро╖ро╛ро░рпНроЯрпБроХро│ро╛роХрокрпН рокро┐ро░ро┐роХрпНроХ, роТро╡рпНро╡рпКройрпНро▒рпБроорпН роЪрпЛродройрпИроХро│ро┐ро▓рпН роТро░рпБ роиро╛ройрпНроХро╛ро╡родрпБ рокроЩрпНроХрпИ роЗропроХрпНроХрпБроХро┐ро▒родрпБ:

```sh
npx wdio run wdio.conf.js --shard=1/4
npx wdio run wdio.conf.js --shard=2/4
npx wdio run wdio.conf.js --shard=3/4
npx wdio run wdio.conf.js --shard=4/4
```

роЗрокрпНрокрпЛродрпБ, роирпАроЩрпНроХро│рпН роЗроирпНрод ро╖ро╛ро░рпНроЯрпБроХро│рпИ ро╡рпЖро╡рпНро╡рпЗро▒рпБ роХрогро┐ройро┐роХро│ро┐ро▓рпН роЗрогрпИропро╛роХ роЗропроХрпНроХро┐ройро╛ро▓рпН, роЙроЩрпНроХро│рпН роЪрпЛродройрпИ родрпКроХрпБрокрпНрокрпБ роиро╛ройрпНроХрпБ роороЯроЩрпНроХрпБ ро╡рпЗроХрооро╛роХ роорпБроЯро┐роХрпНроХрокрпНрокроЯрпБроорпН.

## GitHub Actions роЙродро╛ро░рогроорпН

GitHub Actions [рокро▓ ро╡рпЗро▓рпИроХро│рпБроХрпНроХрпБ роЗроЯрпИропрпЗ роЪрпЛродройрпИроХро│рпИ ро╖ро╛ро░рпНроЯро┐роЩрпН роЪрпЖропрпНро╡родрпИ](https://docs.github.com/en/actions/using-jobs/using-a-matrix-for-your-jobs) [`jobs.<job_id>.strategy.matrix`](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstrategymatrix) ро╡ро┐ро░рпБрокрпНрокродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЖродро░ро┐роХрпНроХро┐ро▒родрпБ. роорпЗроЯрпНро░ро┐роХрпНро╕рпН ро╡ро┐ро░рпБрокрпНрокроорпН ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯ ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│ро┐ройрпН роТро╡рпНро╡рпКро░рпБ роЪро╛родрпНродро┐ропрооро╛рой роХро▓ро╡рпИроХрпНроХрпБроорпН роТро░рпБ родройро┐ ро╡рпЗро▓рпИропрпИ роЗропроХрпНроХрпБроорпН.

рокро┐ройрпНро╡ро░рпБроорпН роЙродро╛ро░рогроорпН роиро╛ройрпНроХрпБ роЗропроирпНродро┐ро░роЩрпНроХро│ро┐ро▓рпН роЙроЩрпНроХро│рпН роЪрпЛродройрпИроХро│рпИ роЗрогрпИропро╛роХ роЗропроХрпНроХ роТро░рпБ ро╡рпЗро▓рпИропрпИ роОро╡рпНро╡ро╛ро▒рпБ роХроЯрпНроЯроорпИрокрпНрокродрпБ роОройрпНрокродрпИроХрпН роХро╛роЯрпНроЯрпБроХро┐ро▒родрпБ. роорпБро┤рпБ рокрпИрокрпНро▓рпИройрпН роЕроорпИрокрпНрокрпИропрпБроорпН [Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate/blob/main/.github/workflows/test.yaml) родро┐роЯрпНроЯродрпНродро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

-   роорпБродро▓ро┐ро▓рпН, роиро╛роорпН роЙро░рпБро╡ро╛роХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроорпН ро╖ро╛ро░рпНроЯрпБроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИропрпИроХрпН роХрпКрогрпНроЯ ро╖ро╛ро░рпНроЯрпН ро╡ро┐ро░рпБрокрпНрокродрпНродрпБроЯройрпН роироородрпБ ро╡рпЗро▓рпИ роХроЯрпНроЯроорпИрокрпНрокро┐ро▒рпНроХрпБ роТро░рпБ роорпЗроЯрпНро░ро┐роХрпНро╕рпН ро╡ро┐ро░рпБрокрпНрокродрпНродрпИроЪрпН роЪрпЗро░рпНроХрпНроХро┐ро▒рпЛроорпН. `shard: [1, 2, 3, 4]` роиро╛ройрпНроХрпБ ро╖ро╛ро░рпНроЯрпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН, роТро╡рпНро╡рпКройрпНро▒рпБроорпН ро╡рпЖро╡рпНро╡рпЗро▒рпБ ро╖ро╛ро░рпНроЯрпН роОрогрпНрогрпИроХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХрпБроорпН.
-   рокро┐ройрпНройро░рпН роиро╛роорпН `--shard ${{ matrix.shard }}/${{ strategy.job-total }}` ро╡ро┐ро░рпБрокрпНрокродрпНродрпБроЯройрпН роОроЩрпНроХро│рпН WebdriverIO роЪрпЛродройрпИроХро│рпИ роЗропроХрпНроХрпБроХро┐ро▒рпЛроорпН. роЗродрпБ роТро╡рпНро╡рпКро░рпБ ро╖ро╛ро░рпНроЯрпБроХрпНроХрпБроорпН роОроЩрпНроХро│рпН роЪрпЛродройрпИ роХроЯрпНроЯро│рпИропро╛роХ роЗро░рпБроХрпНроХрпБроорпН.
-   роЗро▒рпБродро┐ропро╛роХ роиро╛роЩрпНроХро│рпН роОроЩрпНроХро│рпН wdio рокродро┐ро╡рпБ роЕро▒ро┐роХрпНроХрпИропрпИ GitHub Actions Artifacts-роХрпНроХрпБ рокродро┐ро╡рпЗро▒рпНро▒рпБроХро┐ро▒рпЛроорпН. ро╖ро╛ро░рпНроЯрпН родрпЛро▓рпНро╡ро┐ропроЯрпИроирпНродро╛ро▓рпН роЗродрпБ рокродро┐ро╡рпБроХро│рпИроХрпН роХро┐роЯрпИроХрпНроХроЪрпН роЪрпЖропрпНропрпБроорпН.

роЪрпЛродройрпИ рокрпИрокрпНро▓рпИройрпН рокро┐ройрпНро╡ро░рпБрооро╛ро▒рпБ ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ:

```yaml title=.github/workflows/test.yaml
name: Test

on: [push, pull_request]

jobs:
    lint:
        # ...
    unit:
        # ...
    e2e:
        name: ЁЯзк Test (${{ matrix.shard }}/${{ strategy.job-total }})
        runs-on: ubuntu-latest
        needs: [lint, unit]
        strategy:
            matrix:
                shard: [1, 2, 3, 4]
        steps:
            - uses: actions/checkout@v4
            - uses: ./.github/workflows/actions/setup
            - name: E2E Test
              run: npm run test:features -- --shard ${{ matrix.shard }}/${{ strategy.job-total }}
            - uses: actions/upload-artifact@v1
              if: failure()
              with:
                  name: logs-${{ matrix.shard }}
                  path: logs
```

роЗродрпБ роЕройрпИродрпНродрпБ ро╖ро╛ро░рпНроЯрпБроХро│рпИропрпБроорпН роЗрогрпИропро╛роХ роЗропроХрпНроХрпБроорпН, роЪрпЛродройрпИроХро│ро┐ройрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроорпН роирпЗро░родрпНродрпИ 4 роороЯроЩрпНроХрпБ роХрпБро▒рпИроХрпНроХрпБроорпН:

![GitHub Actions роЙродро╛ро░рогроорпН](/img/sharding.png "GitHub Actions роЙродро╛ро░рогроорпН")

[Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate) родро┐роЯрпНроЯродрпНродро┐ро▓рпН роЗро░рпБроирпНродрпБ [`96d444e`](https://github.com/webdriverio/cucumber-boilerplate/commit/96d444ea23919389682b9b1c9408ed91c452c7f8) роХрооро┐роЯрпНроЯрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН, роЗродрпБ роЕродройрпН роЪрпЛродройрпИ рокрпИрокрпНро▓рпИройро┐ро▓рпН ро╖ро╛ро░рпНроЯро┐роЩрпНроХрпИ роЕро▒ро┐роорпБроХрокрпНрокроЯрпБродрпНродро┐ропродрпБ, роЗродрпБ роТроЯрпНроЯрпБроорпКродрпНрод роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроорпН роирпЗро░родрпНродрпИ `2:23 роиро┐рооро┐роЯроЩрпНроХро│ро┐ро▓рпН` роЗро░рпБроирпНродрпБ `1:30 роиро┐рооро┐роЯроЩрпНроХро│рпН` ро╡ро░рпИ роХрпБро▒рпИроХрпНроХ роЙродро╡ро┐ропродрпБ, __37%__ роХрпБро▒рпИрокрпНрокрпБ ЁЯОЙ.