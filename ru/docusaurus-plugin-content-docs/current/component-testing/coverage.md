---
id: coverage
title: Покрытие кода
---

Браузерный раннер WebdriverIO поддерживает отчеты о покрытии кода с использованием [`istanbul`](https://istanbul.js.org/). Тестовый раннер автоматически инструментирует ваш код и собирает данные о покрытии кода.

## Настройка

Чтобы включить отчеты о покрытии кода, активируйте его через конфигурацию браузерного раннера WebdriverIO, например:

```js title=wdio.conf.js
export const config = {
    // ...
    runner: ['browser', {
        preset: process.env.WDIO_PRESET,
        coverage: {
            enabled: true
        }
    }],
    // ...
}
```

Ознакомьтесь со всеми [опциями покрытия](/docs/runner#coverage-options), чтобы узнать, как правильно его настроить.

## Исключение кода из покрытия

Могут быть разделы вашего кода, которые вы хотите намеренно исключить из отслеживания покрытия. Для этого вы можете использовать следующие подсказки:

- `/* istanbul ignore if */`: игнорировать следующий оператор if.
- `/* istanbul ignore else */`: игнорировать часть else оператора if.
- `/* istanbul ignore next */`: игнорировать следующий элемент в исходном коде (функции, операторы if, классы и т.д.).
- `/* istanbul ignore file */`: игнорировать весь исходный файл (должно быть размещено в верхней части файла).

:::info

Рекомендуется исключать ваши тестовые файлы из отчета о покрытии, так как это может вызвать ошибки, например, при вызове команд `execute` или `executeAsync`. Если вы хотите включить их в отчет, убедитесь, что исключаете их инструментирование с помощью:

```ts
await browser.execute(/* istanbul ignore next */() => {
    // ...
})
```

:::