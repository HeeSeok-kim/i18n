---
id: jenkins
title: جنکینز
---

WebdriverIO ادغام خوبی با سیستم‌های CI مانند [Jenkins](https://jenkins-ci.org) ارائه می‌دهد. با گزارش‌دهنده `junit`، می‌توانید به راحتی تست‌های خود را اشکال‌زدایی کنید و همچنین نتایج آزمون‌های خود را پیگیری کنید. ادغام بسیار ساده است.

1. گزارش‌دهنده تست `junit` را نصب کنید: `$ npm install @wdio/junit-reporter --save-dev`)
2. پیکربندی خود را به‌روزرسانی کنید تا نتایج XUnit را در جایی که Jenkins بتواند آن‌ها را پیدا کند ذخیره کنید،
    (و گزارش‌دهنده `junit` را مشخص کنید):

```js
// wdio.conf.js
module.exports = {
    // ...
    reporters: [
        'dot',
        ['junit', {
            outputDir: './'
        }]
    ],
    // ...
}
```

انتخاب فریم‌ورک به شما بستگی دارد. گزارش‌ها مشابه خواهند بود.
برای این آموزش، ما از Jasmine استفاده خواهیم کرد.

پس از اینکه چند آزمون نوشتید، می‌توانید یک کار جدید Jenkins راه‌اندازی کنید. به آن یک نام و توضیحات بدهید:

![Name And Description](/img/jenkins/jobname.png "Name And Description")

سپس اطمینان حاصل کنید که همیشه جدیدترین نسخه مخزن شما را دریافت می‌کند:

![Jenkins Git Setup](/img/jenkins/gitsetup.png "Jenkins Git Setup")

**حالا بخش مهم:** یک مرحله `build` ایجاد کنید تا دستورات shell را اجرا کند. مرحله `build` نیاز به ساخت پروژه شما دارد. از آنجا که این پروژه نمایشی فقط یک برنامه خارجی را آزمایش می‌کند، نیازی به ساخت چیزی ندارید. فقط وابستگی‌های node را نصب کنید و دستور `npm test` را اجرا کنید (که مخفف `node_modules/.bin/wdio test/wdio.conf.js` است).

اگر پلاگینی مانند AnsiColor نصب کرده‌اید، اما لاگ‌ها هنوز رنگی نیستند، تست‌ها را با متغیر محیطی `FORCE_COLOR=1` اجرا کنید (به عنوان مثال، `FORCE_COLOR=1 npm test`).

![Build Step](/img/jenkins/runjob.png "Build Step")

پس از آزمون شما، می‌خواهید Jenkins گزارش XUnit شما را پیگیری کند. برای انجام این کار، باید یک اقدام پس از ساخت به نام _"Publish JUnit test result report"_ اضافه کنید.

همچنین می‌توانید یک پلاگین XUnit خارجی برای پیگیری گزارش‌های خود نصب کنید. پلاگین JUnit با نصب پایه Jenkins ارائه می‌شود و برای حال حاضر کافی است.

طبق فایل پیکربندی، گزارش‌های XUnit در دایرکتوری اصلی پروژه ذخیره می‌شوند. این گزارش‌ها فایل‌های XML هستند. بنابراین، تمام کاری که باید برای پیگیری گزارش‌ها انجام دهید این است که Jenkins را به تمام فایل‌های XML در دایرکتوری اصلی خود هدایت کنید:

![Post-build Action](/img/jenkins/postjob.png "Post-build Action")

همین! اکنون Jenkins را برای اجرای کارهای WebdriverIO راه‌اندازی کرده‌اید. کار شما اکنون نتایج تست دقیق با نمودارهای تاریخچه، اطلاعات ردیابی پشته در کارهای ناموفق و لیستی از دستورات با محتوایی که در هر تست استفاده شده را ارائه می‌دهد.

![Jenkins Final Integration](/img/jenkins/final.png "Jenkins Final Integration")