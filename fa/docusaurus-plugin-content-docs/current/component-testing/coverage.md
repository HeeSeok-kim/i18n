---
id: coverage
title: پوشش کد
---

اجراکننده مرورگر WebdriverIO از گزارش‌گیری پوشش کد با استفاده از [`istanbul`](https://istanbul.js.org/) پشتیبانی می‌کند. تست‌رانر به صورت خودکار کد شما را ابزارگذاری کرده و پوشش کد را برای شما ثبت می‌کند.

## راه‌اندازی

برای فعال‌سازی گزارش‌گیری پوشش کد، آن را از طریق پیکربندی اجراکننده مرورگر WebdriverIO فعال کنید، به عنوان مثال:

```js title=wdio.conf.js
export const config = {
    // ...
    runner: ['browser', {
        preset: process.env.WDIO_PRESET,
        coverage: {
            enabled: true
        }
    }],
    // ...
}
```

تمام [گزینه‌های پوشش](/docs/runner#coverage-options) را بررسی کنید تا یاد بگیرید چگونه آن را به درستی پیکربندی کنید.

## نادیده گرفتن کد

ممکن است بخش‌هایی از کد شما باشد که می‌خواهید عمداً از ردیابی پوشش مستثنی کنید، برای انجام این کار می‌توانید از نکات تجزیه زیر استفاده کنید:

- `/* istanbul ignore if */`: دستور شرطی بعدی را نادیده بگیر.
- `/* istanbul ignore else */`: بخش else یک دستور شرطی را نادیده بگیر.
- `/* istanbul ignore next */`: مورد بعدی در کد منبع را نادیده بگیر (توابع، دستورات شرطی، کلاس‌ها و غیره).
- `/* istanbul ignore file */`: کل فایل منبع را نادیده بگیر (این باید در بالای فایل قرار گیرد).

:::info

توصیه می‌شود فایل‌های تست خود را از گزارش‌گیری پوشش مستثنی کنید زیرا ممکن است باعث خطا شود، مثلاً هنگام فراخوانی دستورات `execute` یا `executeAsync`. اگر می‌خواهید آنها را در گزارش خود نگه دارید، اطمینان حاصل کنید که آنها را با استفاده از عبارت زیر از ابزارگذاری مستثنی می‌کنید:

```ts
await browser.execute(/* istanbul ignore next */() => {
    // ...
})
```

:::