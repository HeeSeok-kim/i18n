---
id: faq
title: سوالات متداول
---

### آیا لازم است از متدهای `save(Screen/Element/FullPageScreen)` قبل از اجرای `check(Screen/Element/FullPageScreen)` استفاده کنم؟

خیر، نیازی به این کار نیست. متد `check(Screen/Element/FullPageScreen)` به طور خودکار این کار را برای شما انجام می‌دهد.

### آزمون‌های بصری من با تفاوت شکست می‌خورند، چگونه می‌توانم تصویر مبنای خود را به‌روزرسانی کنم؟

شما می‌توانید تصاویر مبنا را از طریق خط فرمان با افزودن آرگومان `--update-visual-baseline` به‌روزرسانی کنید. این کار:

-   به طور خودکار اسکرین شات فعلی را کپی کرده و در پوشه مبنا قرار می‌دهد
-   اگر تفاوت‌هایی وجود داشته باشد، آزمون را قبول می‌کند زیرا مبنا به‌روزرسانی شده است

**استفاده:**

```sh
npm run test.local.desktop  --update-visual-baseline
```

هنگام اجرا در حالت لاگ اطلاعات/دیباگ، لاگ‌های زیر را مشاهده خواهید کرد

```logs
[0-0] ..............
[0-0] #####################################################################################
[0-0]  INFO:
[0-0]  Updated the actual image to
[0-0]  /Users/wswebcreation/Git/wdio/visual-testing/localBaseline/chromel/demo-chrome-1366x768.png
[0-0] #####################################################################################
[0-0] ..........
```

### عرض و ارتفاع نمی‌تواند منفی باشد

ممکن است خطای `Width and height cannot be negative` نمایش داده شود. در ۹ مورد از ۱۰ مورد، این خطا مربوط به ایجاد تصویر از المانی است که در نمای فعلی نیست. لطفاً همیشه مطمئن شوید که المان در نما قرار دارد قبل از اینکه سعی کنید از آن تصویر بگیرید.

### نصب Canvas در ویندوز با لاگ‌های Node-Gyp با شکست مواجه شد

اگر هنگام نصب Canvas در ویندوز با خطاهای Node-Gyp مواجه شدید، لطفاً توجه داشته باشید که این فقط برای نسخه ۴ و پایین‌تر صادق است. برای جلوگیری از این مشکلات، به نسخه ۵ یا بالاتر به‌روزرسانی کنید که این وابستگی‌ها را ندارد و از [Jimp](https://github.com/jimp-dev/jimp) برای پردازش تصویر استفاده می‌کند.

اگر همچنان نیاز به حل مشکلات نسخه ۴ دارید، لطفاً بررسی کنید:

-   بخش Node Canvas در راهنمای [شروع کار](/docs/visual-testing#system-requirements)
-   [این پست](https://spin.atomicobject.com/2019/03/27/node-gyp-windows/) برای رفع مشکلات Node-Gyp در ویندوز. (با تشکر از [IgorSasovets](https://github.com/IgorSasovets))