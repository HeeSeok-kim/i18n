---
id: ocr-faq
title: سوالات متداول
---

## آزمون‌های من بسیار کند هستند

وقتی از سرویس `@wdio/ocr-service` استفاده می‌کنید، هدف شما تسریع آزمون‌ها نیست، بلکه به دلیل مشکل در پیدا کردن عناصر در برنامه وب/موبایل خود، به دنبال راهی آسان‌تر برای یافتن آنها هستید. و همه ما امیدواریم بدانیم که وقتی چیزی را می‌خواهید، چیز دیگری را از دست می‌دهید. **اما...** راهی وجود دارد که می‌توانید `@wdio/ocr-service` را سریع‌تر از حالت عادی اجرا کنید. اطلاعات بیشتر در این مورد را می‌توانید [اینجا](./more-test-optimization) پیدا کنید.

## آیا می‌توانم دستورات این سرویس را با دستورات/انتخابگرهای پیش‌فرض WebdriverIO ترکیب کنم؟

بله، می‌توانید دستورات را ترکیب کنید تا اسکریپت خود را حتی قدرتمندتر کنید! توصیه این است که تا حد ممکن از دستورات/انتخابگرهای پیش‌فرض WebdriverIO استفاده کنید و فقط زمانی از این سرویس استفاده کنید که نمی‌توانید یک انتخابگر منحصر به فرد پیدا کنید، یا انتخابگر شما بسیار شکننده خواهد شد.

## متن من پیدا نشد، چطور چنین چیزی ممکن است؟

ابتدا، درک چگونگی کار فرآیند OCR در این ماژول مهم است، پس لطفاً [این](./ocr-testing) صفحه را بخوانید. اگر هنوز نمی‌توانید متن خود را پیدا کنید، ممکن است موارد زیر را امتحان کنید.

### ناحیه تصویر خیلی بزرگ است

وقتی ماژول نیاز به پردازش یک ناحیه بزرگ از اسکرین‌شات دارد، ممکن است متن را پیدا نکند. می‌توانید با ارائه یک haystack هنگام استفاده از یک دستور، ناحیه کوچکتری را مشخص کنید. لطفاً [دستورات](./ocr-click-on-text) را بررسی کنید که کدام دستورات از ارائه haystack پشتیبانی می‌کنند.

### تضاد بین متن و پس‌زمینه صحیح نیست

این بدان معناست که ممکن است متن روشن روی پس‌زمینه سفید یا متن تیره روی پس‌زمینه تیره داشته باشید. این می‌تواند منجر به عدم امکان یافتن متن شود. در مثال‌های زیر می‌توانید ببینید که متن `Why WebdriverIO?` سفید است و توسط یک دکمه خاکستری احاطه شده است. در این حالت، منجر به عدم یافتن متن `Why WebdriverIO?` می‌شود. با افزایش تضاد برای دستور خاص، متن را پیدا می‌کند و می‌تواند روی آن کلیک کند، تصویر دوم را ببینید.

```js
await driver.ocrClickOnText({
    haystack: { height: 44, width: 1108, x: 129, y: 590 },
    text: "WebdriverIO?",
    // // با تضاد پیش‌فرض 0.25، متن پیدا نمی‌شود
    contrast: 1,
});
```

![مشکلات تضاد](/img/ocr/increased-contrast.jpg)

## چرا روی عنصر من کلیک می‌شود اما صفحه کلید دستگاه موبایل من هرگز ظاهر نمی‌شود؟

این می‌تواند در برخی فیلدهای متنی اتفاق بیفتد که کلیک طولانی در نظر گرفته می‌شود و به عنوان لمس طولانی شناخته می‌شود. می‌توانید از گزینه `clickDuration` در [`ocrClickOnText`](./ocr-click-on-text) و [`ocrSetValue`](./ocr-set-value) برای کاهش این مشکل استفاده کنید. به [اینجا](./ocr-click-on-text#options) مراجعه کنید.

## آیا این ماژول می‌تواند چندین عنصر را مانند WebdriverIO معمولی برگرداند؟

خیر، در حال حاضر این امکان وجود ندارد. اگر ماژول چندین عنصر را پیدا کند که با انتخابگر ارائه شده مطابقت دارند، به طور خودکار عنصری را پیدا می‌کند که بالاترین امتیاز تطبیق را دارد.

## آیا می‌توانم برنامه خود را به طور کامل با دستورات OCR ارائه شده توسط این سرویس خودکارسازی کنم؟

من هرگز این کار را انجام نداده‌ام، اما در تئوری، باید امکان‌پذیر باشد. لطفاً اگر در این زمینه موفق شدید، به ما اطلاع دهید ☺️.

## فایل اضافی به نام `{languageCode}.traineddata` اضافه شده است، این چیست؟

`{languageCode}.traineddata` یک فایل داده زبانی است که توسط Tesseract استفاده می‌شود. این فایل حاوی داده‌های آموزشی برای زبان انتخاب شده است که شامل اطلاعات لازم برای تشخیص موثر کاراکترها و کلمات انگلیسی توسط Tesseract است.

### محتویات `{languageCode}.traineddata`

این فایل معمولاً شامل:

1. **داده‌های مجموعه کاراکتر:** اطلاعاتی درباره کاراکترهای موجود در زبان انگلیسی.
1. **مدل زبانی:** یک مدل آماری از نحوه تشکیل کلمات توسط کاراکترها و تشکیل جملات توسط کلمات.
1. **استخراج‌کننده‌های ویژگی:** داده‌هایی در مورد نحوه استخراج ویژگی‌ها از تصاویر برای تشخیص کاراکترها.
1. **داده‌های آموزشی:** داده‌های به دست آمده از آموزش Tesseract بر روی مجموعه بزرگی از تصاویر متن انگلیسی.

### چرا `{languageCode}.traineddata` مهم است؟

1. **تشخیص زبان:** Tesseract به این فایل‌های آموزش داده شده برای تشخیص دقیق و پردازش متن در یک زبان خاص متکی است. بدون `{languageCode}.traineddata`، Tesseract قادر به تشخیص متن انگلیسی نخواهد بود.
1. **عملکرد:** کیفیت و دقت OCR مستقیماً به کیفیت داده‌های آموزشی مرتبط است. استفاده از فایل آموزش داده شده صحیح اطمینان می‌دهد که فرآیند OCR تا حد ممکن دقیق است.
1. **سازگاری:** اطمینان از اینکه فایل `{languageCode}.traineddata` در پروژه شما گنجانده شده است، تکرار محیط OCR در سیستم‌های مختلف یا دستگاه‌های اعضای تیم را آسان‌تر می‌کند.

### نسخه‌بندی `{languageCode}.traineddata`

قرار دادن `{languageCode}.traineddata` در سیستم کنترل نسخه شما به دلایل زیر توصیه می‌شود:

1. **سازگاری:** اطمینان می‌دهد که همه اعضای تیم یا محیط‌های استقرار از نسخه دقیق یکسانی از داده‌های آموزشی استفاده می‌کنند، که منجر به نتایج OCR سازگار در محیط‌های مختلف می‌شود.
1. **تکرارپذیری:** ذخیره این فایل در کنترل نسخه، بازتولید نتایج هنگام اجرای فرآیند OCR در تاریخ بعدی یا در یک دستگاه متفاوت را آسان‌تر می‌کند.
1. **مدیریت وابستگی:** قرار دادن آن در سیستم کنترل نسخه، به مدیریت وابستگی‌ها کمک می‌کند و اطمینان می‌دهد که هر تنظیم یا پیکربندی محیط شامل فایل‌های لازم برای اجرای صحیح پروژه است.

## آیا راه آسانی برای دیدن متنی که در صفحه من پیدا شده بدون اجرای آزمون وجود دارد؟

بله، می‌توانید از ویزارد CLI ما برای این کار استفاده کنید. مستندات را می‌توانید [اینجا](./cli-wizard) پیدا کنید.