---
id: sharding
title: –®–∞—Ä–¥—ñ–Ω–≥
---

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º WebdriverIO –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ —ñ –ø—Ä–∞–≥–Ω–µ –¥–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —è–¥–µ—Ä CPU –Ω–∞ –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó. –©–æ–± –¥–æ—Å—è–≥—Ç–∏ —â–µ –±—ñ–ª—å—à–æ—ó –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–∞—Ü—ñ—ó, –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ WebdriverIO, –∑–∞–ø—É—Å–∫–∞—é—á–∏ —Ç–µ—Å—Ç–∏ –Ω–∞ –∫—ñ–ª—å–∫–æ—Ö –º–∞—à–∏–Ω–∞—Ö –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –ú–∏ –Ω–∞–∑–∏–≤–∞—î–º–æ —Ü–µ–π —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∏ "—à–∞—Ä–¥—ñ–Ω–≥–æ–º".

## –†–æ–∑–ø–æ–¥—ñ–ª —Ç–µ—Å—Ç—ñ–≤ –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –º–∞—à–∏–Ω–∞–º–∏

–©–æ–± —Ä–æ–∑–ø–æ–¥—ñ–ª–∏—Ç–∏ –Ω–∞–±—ñ—Ä —Ç–µ—Å—Ç—ñ–≤, –ø–µ—Ä–µ–¥–∞–π—Ç–µ `--shard=x/y` –≤ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ –Ω–∞–±—ñ—Ä –Ω–∞ —á–æ—Ç–∏—Ä–∏ —à–∞—Ä–¥–∏, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –≤–∏–∫–æ–Ω—É—î –æ–¥–Ω—É —á–µ—Ç–≤–µ—Ä—Ç—É —á–∞—Å—Ç–∏–Ω—É —Ç–µ—Å—Ç—ñ–≤:

```sh
npx wdio run wdio.conf.js --shard=1/4
npx wdio run wdio.conf.js --shard=2/4
npx wdio run wdio.conf.js --shard=3/4
npx wdio run wdio.conf.js --shard=4/4
```

–¢–µ–ø–µ—Ä, —è–∫—â–æ –≤–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ü—ñ —à–∞—Ä–¥–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–ø'—é—Ç–µ—Ä–∞—Ö, –≤–∞—à –Ω–∞–±—ñ—Ä —Ç–µ—Å—Ç—ñ–≤ –±—É–¥–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –≤ —á–æ—Ç–∏—Ä–∏ —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ.

## –ü—Ä–∏–∫–ª–∞–¥ GitHub Actions

GitHub Actions –ø—ñ–¥—Ç—Ä–∏–º—É—î [—Ä–æ–∑–ø–æ–¥—ñ–ª —Ç–µ—Å—Ç—ñ–≤ –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏](https://docs.github.com/en/actions/using-jobs/using-a-matrix-for-your-jobs) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–ø—Ü—ñ—ó [`jobs.<job_id>.strategy.matrix`](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstrategymatrix). –û–ø—Ü—ñ—è matrix –∑–∞–ø—É—Å–∫–∞—Ç–∏–º–µ –æ–∫—Ä–µ–º–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–∂–ª–∏–≤–æ—ó –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –Ω–∞–¥–∞–Ω–∏—Ö –æ–ø—Ü—ñ–π.

–ù–∞—Å—Ç—É–ø–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –ø–æ–∫–∞–∑—É—î, —è–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤ –Ω–∞ —á–æ—Ç–∏—Ä—å–æ—Ö –º–∞—à–∏–Ω–∞—Ö –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ. –ü–æ–≤–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –ø–∞–π–ø–ª–∞–π–Ω—É –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ñ [Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate/blob/main/.github/workflows/test.yaml).

-   –°–ø–æ—á–∞—Ç–∫—É –º–∏ –¥–æ–¥–∞—î–º–æ –æ–ø—Ü—ñ—é matrix –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –Ω–∞—à–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –æ–ø—Ü—ñ—î—é shard, —â–æ –º—ñ—Å—Ç–∏—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞—Ä–¥—ñ–≤, —è–∫—ñ –º–∏ —Ö–æ—á–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏. `shard: [1, 2, 3, 4]` —Å—Ç–≤–æ—Ä–∏—Ç—å —á–æ—Ç–∏—Ä–∏ —à–∞—Ä–¥–∏, –∫–æ–∂–µ–Ω –∑ —Ä—ñ–∑–Ω–∏–º –Ω–æ–º–µ—Ä–æ–º.
-   –ü–æ—Ç—ñ–º –º–∏ –∑–∞–ø—É—Å–∫–∞—î–º–æ –Ω–∞—à—ñ —Ç–µ—Å—Ç–∏ WebdriverIO –∑ –æ–ø—Ü—ñ—î—é `--shard ${{ matrix.shard }}/${{ strategy.job-total }}`. –¶–µ –±—É–¥–µ –Ω–∞—à–æ—é –∫–æ–º–∞–Ω–¥–æ—é –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —à–∞—Ä–¥—É.
-   –ù–∞—Ä–µ—à—Ç—ñ, –º–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∑–≤—ñ—Ç –ª–æ–≥—ñ–≤ wdio –¥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ GitHub Actions. –¶–µ –∑—Ä–æ–±–∏—Ç—å –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ —É –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ —à–∞—Ä–¥ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –∑ –ø–æ–º–∏–ª–∫–æ—é.

–ü–∞–π–ø–ª–∞–π–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∑–Ω–∞—á–µ–Ω–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:

```yaml title=.github/workflows/test.yaml
name: Test

on: [push, pull_request]

jobs:
    lint:
        # ...
    unit:
        # ...
    e2e:
        name: üß™ Test (${{ matrix.shard }}/${{ strategy.job-total }})
        runs-on: ubuntu-latest
        needs: [lint, unit]
        strategy:
            matrix:
                shard: [1, 2, 3, 4]
        steps:
            - uses: actions/checkout@v4
            - uses: ./.github/workflows/actions/setup
            - name: E2E Test
              run: npm run test:features -- --shard ${{ matrix.shard }}/${{ strategy.job-total }}
            - uses: actions/upload-artifact@v1
              if: failure()
              with:
                  name: logs-${{ matrix.shard }}
                  path: logs
```

–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ñ —à–∞—Ä–¥–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ, –∑–º–µ–Ω—à—É—é—á–∏ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ —É 4 —Ä–∞–∑–∏:

![GitHub Actions example](/img/sharding.png "GitHub Actions example")

–î–∏–≤—ñ—Ç—å—Å—è –∫–æ–º—ñ—Ç [`96d444e`](https://github.com/webdriverio/cucumber-boilerplate/commit/96d444ea23919389682b9b1c9408ed91c452c7f8) –∑ –ø—Ä–æ–µ–∫—Ç—É [Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate), —è–∫–∏–π –∑–∞–ø—Ä–æ–≤–∞–¥–∏–≤ —à–∞—Ä–¥—ñ–Ω–≥ —É —Ç–µ—Å—Ç–æ–≤–∏–π –ø–∞–π–ø–ª–∞–π–Ω, —â–æ –¥–æ–ø–æ–º–æ–≥–ª–æ –∑–º–µ–Ω—à–∏—Ç–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑ `2:23 —Ö–≤` –¥–æ `1:30 —Ö–≤`, –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞ __37%__ üéâ.