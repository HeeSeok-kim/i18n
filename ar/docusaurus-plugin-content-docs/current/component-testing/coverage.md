---
id: coverage
title: التغطية
---

يدعم مشغل المتصفح في WebdriverIO إنشاء تقارير تغطية الكود باستخدام [`istanbul`](https://istanbul.js.org/). يقوم مشغل الاختبار تلقائيًا بتجهيز الكود الخاص بك والتقاط تغطية الكود نيابة عنك.

## الإعداد

لتمكين تقارير تغطية الكود، قم بتفعيلها من خلال إعدادات مشغل متصفح WebdriverIO، على سبيل المثال:

```js title=wdio.conf.js
export const config = {
    // ...
    runner: ['browser', {
        preset: process.env.WDIO_PRESET,
        coverage: {
            enabled: true
        }
    }],
    // ...
}
```

تحقق من جميع [خيارات التغطية](/docs/runner#coverage-options) لمعرفة كيفية تكوينها بشكل صحيح.

## تجاهل الكود

قد تكون هناك بعض أقسام قاعدة الكود الخاصة بك التي ترغب في استبعادها عمدًا من تتبع التغطية، للقيام بذلك يمكنك استخدام تلميحات التحليل التالية:

- `/* istanbul ignore if */`: تجاهل جملة if التالية.
- `/* istanbul ignore else */`: تجاهل جزء else من جملة if.
- `/* istanbul ignore next */`: تجاهل الشيء التالي في كود المصدر (الدوال، جمل if، الفئات، وما إلى ذلك).
- `/* istanbul ignore file */`: تجاهل ملف المصدر بأكمله (يجب وضع هذا في أعلى الملف).

:::info

يوصى باستبعاد ملفات الاختبار من تقارير التغطية لأنها قد تسبب أخطاء، مثلاً عند استدعاء أوامر `execute` أو `executeAsync`. إذا كنت ترغب في الاحتفاظ بها في تقريرك، تأكد من استبعادها من التجهيز عبر:

```ts
await browser.execute(/* istanbul ignore next */() => {
    // ...
})
```

:::