---
id: coverage
title: التغطية
---

يدعم مشغل المتصفح في WebdriverIO إعداد تقارير تغطية الشفرة باستخدام [`istanbul`](https://istanbul.js.org/). سيقوم مشغل الاختبار تلقائيًا بتحليل الشفرة وتسجيل تغطية الشفرة لك.

## الإعداد

لتمكين تقارير تغطية الشفرة، قم بتفعيلها من خلال إعدادات مشغل متصفح WebdriverIO، على سبيل المثال:

```js title=wdio.conf.js
export const config = {
    // ...
    runner: ['browser', {
        preset: process.env.WDIO_PRESET,
        coverage: {
            enabled: true
        }
    }],
    // ...
}
```

راجع جميع [خيارات التغطية](/docs/runner#coverage-options)، لمعرفة كيفية تكوينها بشكل صحيح.

## تجاهل الشفرة

قد تكون هناك بعض أجزاء من قاعدة الشفرة الخاصة بك ترغب في استبعادها عمدًا من تتبع التغطية، للقيام بذلك يمكنك استخدام تلميحات التحليل التالية:

- `/* istanbul ignore if */`: تجاهل جملة if التالية.
- `/* istanbul ignore else */`: تجاهل جزء else من جملة if.
- `/* istanbul ignore next */`: تجاهل الشيء التالي في الشفرة المصدرية (الدوال، جمل if، الفئات، وما إلى ذلك).
- `/* istanbul ignore file */`: تجاهل ملف مصدر بأكمله (يجب وضع هذا في أعلى الملف).

:::info

يُنصح باستبعاد ملفات الاختبار من إعداد تقارير التغطية لأنها قد تسبب أخطاء، على سبيل المثال عند استدعاء أوامر `execute` أو `executeAsync`. إذا كنت ترغب في الاحتفاظ بها في التقرير، تأكد من استبعادها من التحليل عبر:

```ts
await browser.execute(/* istanbul ignore next */() => {
    // ...
})
```

:::