---
id: visual-reporter
title: مُنشئ التقارير المرئية
---

مُنشئ التقارير المرئية هو ميزة جديدة تم تقديمها في `@wdio/visual-service`، بدءًا من الإصدار [v5.2.0](https://github.com/webdriverio/visual-testing/releases/tag/%40wdio%2Fvisual-service%405.2.0). يسمح هذا المُنشئ للمستخدمين بتصور تقارير الاختلافات بصيغة JSON التي تم إنشاؤها بواسطة خدمة الاختبار المرئي وتحويلها إلى تنسيق قابل للقراءة من قبل الإنسان. يساعد الفرق على تحليل وإدارة نتائج الاختبار المرئي بشكل أفضل من خلال توفير واجهة رسومية لمراجعة المخرجات.

لاستخدام هذه الميزة، تأكد من أن لديك التكوين المطلوب لإنشاء ملف `output.json` الضروري. سيرشدك هذا المستند خلال إعداد وتشغيل وفهم مُنشئ التقارير المرئية.

# المتطلبات الأساسية

قبل استخدام مُنشئ التقارير المرئية، تأكد من تكوين خدمة الاختبار المرئي لإنشاء ملفات تقارير JSON:

```ts
export const config = {
    // ...
    services: [
        [
            "visual",
            {
                createJsonReportFiles: true, // ينشئ ملف output.json
            },
        ],
    ],
};
```

للحصول على تعليمات الإعداد التفصيلية، راجع [وثائق الاختبار المرئي](./) لـ WebdriverIO أو [`createJsonReportFiles`](./service-options.md#createjsonreportfiles-new)

# التثبيت

لتثبيت مُنشئ التقارير المرئية، أضفه كتبعية تطوير لمشروعك باستخدام npm:

```bash
npm install @wdio/visual-reporter --save-dev
```

سيضمن ذلك توفر الملفات الضرورية لإنشاء تقارير من اختباراتك المرئية.

# الاستخدام

## بناء التقرير المرئي

بمجرد تشغيل اختباراتك المرئية وإنشاء ملف `output.json`، يمكنك بناء التقرير المرئي باستخدام إما واجهة سطر الأوامر أو المطالبات التفاعلية.

### استخدام واجهة سطر الأوامر

يمكنك استخدام أمر CLI لإنشاء التقرير عن طريق تشغيل:

```bash
npx wdio-visual-reporter --jsonOutput=<path-to-output.json> --reportFolder=<path-to-store-report> --logLevel=debug
```

#### الخيارات المطلوبة:

- `--jsonOutput`: المسار النسبي لملف `output.json` الذي تم إنشاؤه بواسطة خدمة الاختبار المرئي. هذا المسار نسبي للدليل الذي تنفذ منه الأمر.
- `--reportFolder`: الدليل النسبي حيث سيتم تخزين التقرير المُنشأ. هذا المسار نسبي أيضًا للدليل الذي تنفذ منه الأمر.

#### الخيارات الاختيارية:

- `--logLevel`: اضبطه على `debug` للحصول على تسجيل مفصل، مفيد خاصة لاستكشاف الأخطاء وإصلاحها.

#### مثال

```bash
npx wdio-visual-reporter --jsonOutput=/path/to/output.json --reportFolder=/path/to/report --logLevel=debug
```

سيؤدي هذا إلى إنشاء التقرير في المجلد المحدد وتقديم ملاحظات في وحدة التحكم. على سبيل المثال:

```bash
✔ Build output copied successfully to "/path/to/report".
⠋ Prepare report assets...
✔ Successfully generated the report assets.
```

#### عرض التقرير

:::warning
فتح `path/to/report/index.html` مباشرة في المتصفح **بدون تقديمه من خادم محلي** **لن يعمل**.
:::

لعرض التقرير، تحتاج إلى استخدام خادم بسيط مثل [sirv-cli](https://www.npmjs.com/package/sirv-cli). يمكنك بدء الخادم باستخدام الأمر التالي:

```bash
npx sirv-cli /path/to/report --single
```

سيؤدي هذا إلى إنتاج سجلات مشابهة للمثال أدناه. لاحظ أن رقم المنفذ قد يختلف:

```logs
  Your application is ready~! 🚀

  - Local:      http://localhost:8080
  - Network:    Add `--host` to expose

────────────────── LOGS ──────────────────
```

يمكنك الآن عرض التقرير عن طريق فتح عنوان URL المقدم في متصفحك.

### استخدام المطالبات التفاعلية

بدلاً من ذلك، يمكنك تشغيل الأمر التالي والإجابة على المطالبات لإنشاء التقرير:

```bash
npx @wdio/visual-reporter
```

سترشدك المطالبات خلال توفير المسارات والخيارات المطلوبة. في النهاية، ستسألك المطالبة التفاعلية أيضًا عما إذا كنت تريد بدء خادم لعرض التقرير. إذا اخترت بدء الخادم، ستطلق الأداة خادمًا بسيطًا وتعرض عنوان URL في السجلات. يمكنك فتح عنوان URL هذا في متصفحك لعرض التقرير.

![Visual Reporter CLI](/img/visual/cli-screen-recording.gif)

![Visual Reporter](/img/visual/visual-reporter.gif)

#### عرض التقرير

:::warning
فتح `path/to/report/index.html` مباشرة في المتصفح **بدون تقديمه من خادم محلي** **لن يعمل**.
:::

إذا اخترت **عدم** بدء الخادم عبر المطالبة التفاعلية، فلا يزال بإمكانك عرض التقرير عن طريق تشغيل الأمر التالي يدويًا:

```bash
npx sirv-cli /path/to/report --single
```

سيؤدي هذا إلى إنتاج سجلات مشابهة للمثال أدناه. لاحظ أن رقم المنفذ قد يختلف:

```logs
  Your application is ready~! 🚀

  - Local:      http://localhost:8080
  - Network:    Add `--host` to expose

────────────────── LOGS ──────────────────
```

يمكنك الآن عرض التقرير عن طريق فتح عنوان URL المقدم في متصفحك.

# عرض توضيحي للتقرير

لرؤية مثال على شكل التقرير، قم بزيارة [عرض توضيحي على صفحات GitHub](https://webdriverio.github.io/visual-testing/).

# فهم التقرير المرئي

يوفر مُنشئ التقارير المرئية عرضًا منظمًا لنتائج الاختبار المرئي الخاصة بك. لكل تشغيل اختبار، ستتمكن من:

- التنقل بسهولة بين حالات الاختبار ورؤية النتائج المجمعة.
- مراجعة البيانات الوصفية مثل أسماء الاختبارات والمتصفحات المستخدمة ونتائج المقارنة.
- عرض صور الاختلافات التي توضح أين تم اكتشاف الاختلافات المرئية.

يبسط هذا التمثيل المرئي تحليل نتائج الاختبار الخاصة بك، مما يجعل من السهل تحديد ومعالجة الانحدارات المرئية.

# تكاملات CI

نحن نعمل على دعم أدوات CI المختلفة مثل Jenkins و GitHub Actions وغيرها. إذا كنت ترغب في مساعدتنا، يرجى الاتصال بنا على [Discord - Visual Testing](https://discord.com/channels/1097401827202445382/1186908940286574642).