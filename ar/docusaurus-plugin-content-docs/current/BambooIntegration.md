---
id: bamboo
title: بامبو
---

يقدم WebdriverIO تكاملًا وثيقًا مع أنظمة التكامل المستمر مثل [Bamboo](https://www.atlassian.com/software/bamboo). باستخدام مُقدم تقارير [JUnit](https://webdriver.io/docs/junit-reporter.html) أو [Allure](https://webdriver.io/docs/allure-reporter.html)، يمكنك بسهولة تصحيح الأخطاء في اختباراتك وكذلك متابعة نتائج الاختبارات. التكامل سهل للغاية.

1. قم بتثبيت مُقدم تقارير JUnit: `$ npm install @wdio/junit-reporter --save-dev`)
1. قم بتحديث التكوين الخاص بك لحفظ نتائج JUnit حيث يمكن لـ Bamboo العثور عليها (وحدد مُقدم تقارير `junit`):

```js
// wdio.conf.js
module.exports = {
    // ...
    reporters: [
        'dot',
        ['junit', {
            outputDir: './testresults/'
        }]
    ],
    // ...
}
```
ملاحظة: *من الأفضل دائمًا الاحتفاظ بنتائج الاختبار في مجلد منفصل وليس في المجلد الجذر.*

```js
// wdio.conf.js - للاختبارات التي تعمل بالتوازي
module.exports = {
    // ...
    reporters: [
        'dot',
        ['junit', {
            outputDir: './testresults/',
            outputFileFormat: function (options) {
                return `results-${options.cid}.xml`;
            }
        }]
    ],
    // ...
}
```

ستكون التقارير متشابهة لجميع الأطر ويمكنك استخدام أي منها: Mocha أو Jasmine أو Cucumber.

في هذا الوقت، نعتقد أنك قد كتبت الاختبارات وتم إنشاء النتائج في مجلد ```./testresults/```، وأن Bamboo الخاص بك يعمل.

## دمج اختباراتك في Bamboo

1. افتح مشروع Bamboo الخاص بك
    > أنشئ خطة جديدة، وقم بربط المستودع الخاص بك (تأكد من أنه يشير دائمًا إلى أحدث إصدار من المستودع الخاص بك) وأنشئ مراحلك

    ![تفاصيل الخطة](/img/bamboo/plancreation.png "تفاصيل الخطة")

    سأستخدم المرحلة والوظيفة الافتراضية. في حالتك، يمكنك إنشاء المراحل والوظائف الخاصة بك

    ![المرحلة الافتراضية](/img/bamboo/defaultstage.png "المرحلة الافتراضية")
2. افتح وظيفة الاختبار الخاصة بك وأنشئ المهام لتشغيل اختباراتك في Bamboo
    >**المهمة 1:** سحب الكود المصدري

    >**المهمة 2:** تشغيل اختباراتك ```npm i && npm run test```. يمكنك استخدام مهمة *Script* و *Shell Interpreter* لتشغيل الأوامر المذكورة أعلاه (سيؤدي ذلك إلى إنشاء نتائج الاختبار وحفظها في مجلد ```./testresults/```)

    ![تشغيل الاختبار](/img/bamboo/testrun.png "تشغيل الاختبار")

    >**المهمة: 3** أضف مهمة *jUnit Parser* لتحليل نتائج الاختبار المحفوظة. يرجى تحديد دليل نتائج الاختبار هنا (يمكنك أيضًا استخدام أنماط Ant)

    ![محلل jUnit](/img/bamboo/junitparser.png "محلل jUnit")

    ملاحظة: *تأكد من أنك تحتفظ بمهمة محلل النتائج في قسم *Final*، بحيث يتم تنفيذها دائمًا حتى إذا فشلت مهمة الاختبار الخاصة بك*

    >**المهمة: 4** (اختياري) للتأكد من أن نتائج الاختبار الخاصة بك غير متداخلة مع الملفات القديمة، يمكنك إنشاء مهمة لإزالة مجلد ```./testresults/``` بعد التحليل الناجح إلى Bamboo. يمكنك إضافة نص برمجي مثل ```rm -f ./testresults/*.xml``` لإزالة النتائج أو ```rm -r testresults``` لإزالة المجلد بالكامل

بمجرد الانتهاء من *علم الصواريخ* المذكور أعلاه، يرجى تمكين الخطة وتشغيلها. ستكون النتيجة النهائية كما يلي:

## اختبار ناجح

![اختبار ناجح](/img/bamboo/successfulltest.png "اختبار ناجح")

## اختبار فاشل

![اختبار فاشل](/img/bamboo/failedtest.png "اختبار فاشل")

## فشل وإصلاح

![فشل وإصلاح](/img/bamboo/failedandfixed.png "فشل وإصلاح")

رائع!! هذا كل شيء. لقد نجحت في دمج اختبارات WebdriverIO الخاصة بك في Bamboo.