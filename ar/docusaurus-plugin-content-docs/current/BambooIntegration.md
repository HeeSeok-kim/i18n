---
id: bamboo
title: بامبو
---

يقدم WebdriverIO تكاملًا وثيقًا مع أنظمة التكامل المستمر مثل [Bamboo](https://www.atlassian.com/software/bamboo). باستخدام مولد تقارير [JUnit](https://webdriver.io/docs/junit-reporter.html) أو [Allure](https://webdriver.io/docs/allure-reporter.html)، يمكنك بسهولة تصحيح اختباراتك وكذلك تتبع نتائج اختباراتك. التكامل سهل للغاية.

1. قم بتثبيت مولد تقارير اختبار JUnit: `$ npm install @wdio/junit-reporter --save-dev`)
1. قم بتحديث التكوين الخاص بك لحفظ نتائج JUnit حيث يمكن لـ Bamboo العثور عليها، (وحدد مولد تقارير `junit`):

```js
// wdio.conf.js
module.exports = {
    // ...
    reporters: [
        'dot',
        ['junit', {
            outputDir: './testresults/'
        }]
    ],
    // ...
}
```
ملاحظة: *من المعايير الجيدة دائمًا الاحتفاظ بنتائج الاختبار في مجلد منفصل وليس في المجلد الجذر.*

```js
// wdio.conf.js - للاختبارات التي تعمل بالتوازي
module.exports = {
    // ...
    reporters: [
        'dot',
        ['junit', {
            outputDir: './testresults/',
            outputFileFormat: function (options) {
                return `results-${options.cid}.xml`;
            }
        }]
    ],
    // ...
}
```

ستكون التقارير متشابهة لجميع الأطر ويمكنك استخدام أي منها: Mocha أو Jasmine أو Cucumber.

في هذا الوقت، نعتقد أنك قد كتبت الاختبارات وتم إنشاء النتائج في مجلد ```./testresults/```، وأن Bamboo الخاص بك يعمل.

## دمج اختباراتك في Bamboo

1. افتح مشروع Bamboo الخاص بك
    > قم بإنشاء خطة جديدة، وربط المستودع الخاص بك (تأكد من أنه يشير دائمًا إلى أحدث إصدار من المستودع الخاص بك) وإنشاء المراحل الخاصة بك

    ![تفاصيل الخطة](/img/bamboo/plancreation.png "تفاصيل الخطة")

    سأستمر بالمرحلة والمهمة الافتراضية. في حالتك، يمكنك إنشاء المراحل والمهام الخاصة بك

    ![المرحلة الافتراضية](/img/bamboo/defaultstage.png "المرحلة الافتراضية")
2. افتح مهمة الاختبار الخاصة بك وقم بإنشاء مهام لتشغيل اختباراتك في Bamboo
    >**المهمة 1:** استخراج كود المصدر

    >**المهمة 2:** تشغيل اختباراتك ```npm i && npm run test```. يمكنك استخدام مهمة *Script* و *Shell Interpreter* لتشغيل الأوامر المذكورة أعلاه (هذا سيولد نتائج الاختبار ويحفظها في مجلد ```./testresults/```)

    ![تشغيل الاختبار](/img/bamboo/testrun.png "تشغيل الاختبار")

    >**المهمة: 3** أضف مهمة *jUnit Parser* لتحليل نتائج الاختبار المحفوظة. يرجى تحديد دليل نتائج الاختبار هنا (يمكنك استخدام أنماط Ant أيضًا)

    ![محلل jUnit](/img/bamboo/junitparser.png "محلل jUnit")

    ملاحظة: *تأكد من إبقاء مهمة محلل النتائج في قسم *Final*، بحيث يتم تنفيذها دائمًا حتى إذا فشلت مهمة الاختبار الخاصة بك*

    >**المهمة: 4** (اختياري) للتأكد من أن نتائج الاختبار الخاصة بك لا تختلط بالملفات القديمة، يمكنك إنشاء مهمة لإزالة مجلد ```./testresults/``` بعد تحليل ناجح لـ Bamboo. يمكنك إضافة نص برمجي للشل مثل ```rm -f ./testresults/*.xml``` لإزالة النتائج أو ```rm -r testresults``` لإزالة المجلد بالكامل

بمجرد الانتهاء من *علم الصواريخ* المذكور أعلاه، يرجى تمكين الخطة وتشغيلها. ستكون النتيجة النهائية كما يلي:

## اختبار ناجح

![اختبار ناجح](/img/bamboo/successfulltest.png "اختبار ناجح")

## اختبار فاشل

![اختبار فاشل](/img/bamboo/failedtest.png "اختبار فاشل")

## فاشل ومصحح

![فاشل ومصحح](/img/bamboo/failedandfixed.png "فاشل ومصحح")

ياي!! هذا كل شيء. لقد نجحت في دمج اختبارات WebdriverIO الخاصة بك في Bamboo.